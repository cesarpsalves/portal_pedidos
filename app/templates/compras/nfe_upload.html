{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h4>Anexar Nota Fiscal</h4>
    <form method="POST" enctype="multipart/form-data" id="uploadForm">
        {{ form.hidden_tag() }}
        <input type="hidden" name="pacote_id" id="pacote_id" value="{{ request.args.get('pacote') }}">
        <div class="card p-3 mt-3 border-dashed" id="dropZone">
            <div class="text-center text-muted" id="dropText">
                <i class="bi bi-file-earmark-arrow-up" style="font-size: 2rem;"></i><br>
                <span>Arraste o PDF aqui ou clique para escolher</span>
            </div>
            <input type="file" name="arquivo" accept=".pdf" class="form-control" id="arquivo"
                style="opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;">
        </div>
        <div id="fileSelected" class="text-success text-center mt-2" style="display:none;">ðŸ“„ Arquivo selecionado!</div>
        <div class="text-end mt-3">
            <button class="btn btn-primary" type="submit">Enviar</button>
        </div>
    </form>
</div>

<script>
    document.getElementById("arquivo").addEventListener("change", () => {
        document.getElementById("fileSelected").style.display = "block";
    });

    document.getElementById("dropZone").addEventListener("click", () => {
        document.getElementById("arquivo").click();
    });
</script>
{% endblock %}