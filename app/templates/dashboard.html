{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<h2>Bem-vindo(a), {{ usuario_nome }}!</h2>

<p>VocÃª estÃ¡ logado no sistema.</p>

{% if session.usuario_tipo %}
<p>Seu perfil: <strong>{{ session.usuario_tipo|capitalize }}</strong></p>
{% endif %}

<div class="dashboard-cards">

    {% set roles = session.get("usuario_perfis", "").split(",") %}

    <ul>
        <li><a href="{{ url_for('solicitacoes.lista_solicitacoes') }}">ğŸ“„ SolicitaÃ§Ãµes</a></li>

        {% if "aprovador" in roles or "administrador" in roles or "gerente" in roles or "diretor" in roles %}
        <li><a href="{{ url_for('aprovacoes.listar_solicitacoes') }}">âœ… Aprovar SolicitaÃ§Ãµes</a></li>
        {% endif %}

        {% if "comprador" in roles or "administrador" in roles or "gerente" in roles or "diretor" in roles %}
        <li><a href="{{ url_for('compras.lista_compras') }}">ğŸ’³ SolicitaÃ§Ãµes Aprovadas (Compras)</a></li>
        {% endif %}

        {% if "financeiro" in roles or "tributario" in roles %}
        <li><a href="{{ url_for('historico.historico_solicitacoes') }}">ğŸ“š HistÃ³rico de SolicitaÃ§Ãµes</a></li>
        {% endif %}

        <li><a href="{{ url_for('profile.view') }}">ğŸ‘¤ Meu Perfil</a></li>

        {% if "administrador" in roles or "gerente" in roles or "diretor" in roles %}
        <li><a href="{{ url_for('admin.gerenciar_usuarios') }}">âš™ï¸ Gerenciar UsuÃ¡rios</a></li>
        {% endif %}
    </ul>
</div>
{% endblock %}